(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46894ef4"],{"3b67":function(t,e,a){},"51e8":function(t,e,a){"use strict";var s=a("3b67"),i=a.n(s);i.a},f95f:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("Dashboard",{attrs:{trend:t.trendData}}),a("el-card",{attrs:{shadow:"never"}},[a("el-form",{staticClass:"filter-panel"},[a("el-row",{attrs:{type:t.mobileClient?"":"flex"}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择关键字"},on:{change:t.handleFilter,focus:function(e){t.fetchStatisticsData("tag")}},model:{value:t.filters.tag,callback:function(e){t.$set(t.filters,"tag",e)},expression:"filters.tag"}},t._l(t.statistics.tag,function(e){return a("el-option",{key:e._id,attrs:{value:e._id}},[t._v("\n                                "+t._s(e._id)+" "),a("span",{staticClass:"tag-count"},[t._v(t._s(e.value))])])}))],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[a("el-form-item",{attrs:{label:"语言"}},[a("el-select",{attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择语言"},on:{change:t.handleFilter,focus:function(e){t.fetchStatisticsData("language")}},model:{value:t.filters.language,callback:function(e){t.$set(t.filters,"language",e)},expression:"filters.language"}},t._l(t.statistics.language,function(e){return a("el-option",{key:e._id,attrs:{value:e._id}},[t._v("\n                                "+t._s(e._id)+" "),a("span",{staticClass:"tag-count"},[t._v(t._s(e.value))])])}))],1)],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:8,xl:8}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{attrs:{size:"mini",fill:"#DDDDDD"},on:{change:t.handleFilter},model:{value:t.filters.status,callback:function(e){t.$set(t.filters,"status",e)},expression:"filters.status"}},[a("el-radio-button",{attrs:{label:{}}},[a("i",{staticClass:"iconfont icon-search"}),t._v("不限\n                            ")]),a("el-radio-button",{attrs:{label:{security:0,desc:{$exists:!1}}}},[a("i",{staticClass:"iconfont icon-feedback_fill"}),t._v("待审\n                            ")]),a("el-radio-button",{attrs:{label:{security:0,desc:{$exists:!0}}}},[a("i",{staticClass:"iconfont icon-flag_fill"}),t._v("确认\n                            ")]),a("el-radio-button",{attrs:{label:{security:1}}},[a("i",{staticClass:"iconfont icon-success_fill"}),t._v("误报\n                            ")])],1)],1)],1)],1)],1),a("ResultsTable",{attrs:{results:t.leakagesData},on:{change:t.handleChange}}),t.leakagesData?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{"current-page":t.from,"page-sizes":[10,20,50,100],"page-size":t.limit,layout:"total,prev, pager, next, sizes, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)],1)},i=[],n=(a("5a09"),a("3a0f"),a("a3a3"),a("4d0b"),function(){return a.e("chunk-dd8d57ec").then(a.bind(null,"fb05"))}),l=function(){return a.e("chunk-2d05f298").then(a.bind(null,"4ea0"))},r={data:function(){return{statistics:{tag:[],language:[]},filters:{status:{security:0,desc:{$exists:!1}},tag:this.$route.params.tag||""},trendData:{},leakagesData:[],total:10,limit:10,from:1}},methods:{handleFilter:function(){this.$router.push({name:"tag",params:{tag:this.filters.tag}}),this.from=1,this.fetchLeakagesData(),this.fetchTrend()},fetchStatisticsData:function(t){var e=this;this.axios.get(this.api.statistic,{params:{by:t,tag:this.filters.tag}}).then(function(a){e.statistics[t]=a.data.result}).catch(function(t){e.$message.error(t.toString())})},handleSizeChange:function(t){this.limit=t,this.from=1,this.fetchLeakagesData()},handleCurrentChange:function(t){this.from=t,this.fetchLeakagesData()},handleTagSelected:function(){this.fetchLeakagesData(),this.fetchTrend()},handleChange:function(){this.fetchTrend(),this.fetchLeakagesData()},fetchLeakagesData:function(){var t=this;this.axios.get(this.api.leakage,{params:{status:this.filters.status,tag:this.filters.tag,language:this.filters.language,limit:this.limit,from:this.from}}).then(function(e){t.leakagesData=e.data.result,t.total=e.data.total}).catch(function(e){t.$message.error(e.toString())})},fetchTrend:function(){var t=this;this.axios.get(this.api.trend,{params:{tag:this.filters.tag}}).then(function(e){t.trendData=e.data.result}).catch(function(e){t.$message.error(e.toString())})}},components:{Dashboard:n,ResultsTable:l},computed:{mobileClient:function(){return document.documentElement.clientWidth<document.documentElement.clientHeight}},mounted:function(){this.fetchTrend(),this.fetchLeakagesData()},watch:{$route:function(t,e){this.filters.tag=t.params.tag||"",this.fetchLeakagesData(),this.fetchTrend()}}},c=r,o=(a("51e8"),a("048f")),u=Object(o["a"])(c,s,i,!1,null,"73be8f21",null);u.options.__file="Index.vue";e["default"]=u.exports}}]);