webpackJsonp([9],{K7Vv:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("18Nq");var n=function(t){s("m0cX")},a=Object(i.a)({data:function(){return{blacklists:[],enable:!1,inputVisible:!1,inputValue:""}},methods:{showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})},handleInputNoticeConfirm:function(){var t=this;this.inputValue&&(this.blacklists.push({keyword:this.inputValue}),this.axios.post(this.GLOBAL.settingBlacklist,{keyword:this.inputValue}).then(function(e){t.$message.success(e.data.msg),t.blacklists=e.data.result}).catch(function(e){t.$message.error(e.toString())})),this.inputVisible=!1,this.inputValue=""},handleDeleteBlacklist:function(t){var e=this;this.axios.delete(this.GLOBAL.settingBlacklist+"?keyword="+t.keyword).then(function(s){e.$message.success(s.data.msg),e.blacklists.splice(e.blacklists.indexOf(t),1),e.blacklists=s.data.result}).catch(function(t){e.$message.error(t.toString())})},fetchBlacklists:function(){var t=this;this.axios.get(this.GLOBAL.settingBlacklist).then(function(e){t.blacklists=e.data.result}).catch(function(e){t.$message.error(e.toString())})}},mounted:function(){this.fetchBlacklists(),this.$nextTick(function(){})}},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"item",attrs:{shadow:"never"}},[s("el-tooltip",{attrs:{content:"项目名称若包含黑名单关键字，则不会抓取",placement:"bottom-end"}},[s("svg",{staticClass:"icon",staticStyle:{"font-size":"20px"},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-tip"}})])]),t._v(" "),t._l(t.blacklists,function(e){return s("el-tag",{key:e.keyword,attrs:{closable:!0,"close-transition":!0},on:{close:function(s){t.handleDeleteBlacklist(e)}}},[t._v("\n    "+t._s(e.keyword)+"\n  ")])}),t._v(" "),t.inputVisible?s("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{slot:"header",size:"mini"},on:{blur:t.handleInputNoticeConfirm},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleInputNoticeConfirm(e):null}},slot:"header",model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}):s("el-button",{attrs:{slot:"header",size:"small"},on:{click:t.showInput},slot:"header"},[t._v("添加")])],2)},[],!1,n,"data-v-cc9ea722",null);e.default=a.exports},m0cX:function(t,e){}});